"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[969],{969:(y,d,l)=>{l.r(d),l.d(d,{ListaUsuariosPageModule:()=>L});var m=l(6814),U=l(95),s=l(7027),c=l(3912),g=l(5861),o=l(6689),Z=l(9965);const p=function(i){return["/ver-usuarios",i]},f=function(i){return["/actualizar-usuario/",i]};function h(i,a){if(1&i){const r=o.EpF();o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6),o.qZA(),o.TgZ(7,"ion-label")(8,"ion-button",7),o._UZ(9,"ion-icon",8),o.qZA(),o.TgZ(10,"ion-button",7),o._UZ(11,"ion-icon",9),o.qZA(),o.TgZ(12,"ion-button",10),o.NdJ("click",function(){const e=o.CHM(r).$implicit,u=o.oxw();return o.KtG(u.borraUsuario(e.id))}),o._UZ(13,"ion-icon",11),o.qZA()()()}if(2&i){const r=a.$implicit;o.xp6(2),o.Oqu(r.email),o.xp6(2),o.Oqu(r.first_name),o.xp6(2),o.Oqu(r.last_name),o.xp6(2),o.Q6J("routerLink",o.VKq(5,p,r.id)),o.xp6(2),o.Q6J("routerLink",o.VKq(7,f,r.id))}}const b=[{path:"",component:(()=>{var i;class a{constructor(t,n,e,u,v){this.restApi=t,this.loadingController=n,this.alertController=e,this.route=u,this.router=v,this.usuarios=[]}ngOnInit(){this.getUsuarios()}getUsuarios(){var t=this;return(0,g.Z)(function*(){console.log("Entrando :getUsuarios");const n=yield t.loadingController.create({message:"Harrys Loading..."});yield n.present(),console.log("Entrando :"),yield t.restApi.getUsuarios().subscribe({next:e=>{console.log("Res:"+e),t.usuarios=e,console.log("thisProductos:",t.usuarios),n.dismiss()},complete:()=>{},error:e=>{console.log("Err:"+e),n.dismiss()}})})()}borraUsuario(t){var n=this;return(0,g.Z)(function*(){n.alertaConfirmacion(t,"Esta seguro que desea eliminar este usuario")})()}alertaConfirmacion(t,n){var e=this;return(0,g.Z)(function*(){yield(yield e.alertController.create({header:"Borrar Usuario!",message:n,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Operaci\xf3n cancelada")}},{text:"Eliminar",handler:()=>{e.confirmacionBorrado(t)}}]})).present()})()}confirmacionBorrado(t){var n=this;return(0,g.Z)(function*(){alert("Eliminando ");const e=yield n.loadingController.create({message:"Loading..."});yield e.present(),yield n.restApi.borradoUsuario(t).subscribe({next:u=>{console.log("Error",u),e.dismiss(),n.router.navigate(["/lista-usuarios"]),window.location.reload()},complete:()=>{},error:u=>{console.log("Error",u),e.dismiss()}})})()}}return(i=a).\u0275fac=function(t){return new(t||i)(o.Y36(Z.i),o.Y36(s.HT),o.Y36(s.Br),o.Y36(c.gz),o.Y36(c.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-lista-usuarios"]],decls:21,vars:1,consts:[["slot","start"],["src","../../assets/logo.png"],["slot","end"],["defaultHref","/"],["padding",""],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],[3,"routerLink"],["name","eye-outline"],["name","create-outline"],["type","button",3,"click"],["name","trash-outline"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o._UZ(3,"ion-menu-button"),o.qZA(),o._UZ(4,"ion-img",1),o.TgZ(5,"ion-title"),o._uU(6,"Listado Usuarios"),o.qZA(),o.TgZ(7,"ion-buttons",2),o._UZ(8,"ion-back-button",3),o.qZA()()(),o.TgZ(9,"ion-content")(10,"ion-list",4)(11,"ion-item")(12,"ion-label",5),o._uU(13,"Correo Electronico"),o.qZA(),o.TgZ(14,"ion-label",5),o._uU(15,"Nombres"),o.qZA(),o.TgZ(16,"ion-label",5),o._uU(17,"Apellidos"),o.qZA(),o.TgZ(18,"ion-label",5),o._uU(19,"Acciones"),o.qZA()(),o.YNc(20,h,14,9,"ion-item",6),o.qZA()()),2&t&&(o.xp6(20),o.Q6J("ngForOf",n.usuarios))},dependencies:[m.sg,s.oU,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.Xz,s.Ie,s.Q$,s.q_,s.fG,s.wd,s.sr,s.cs,s.YI,c.rH]}),a})()}];let A=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[c.Bz.forChild(b),c.Bz]}),a})(),L=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[m.ez,U.u5,s.Pc,A]}),a})()}}]);