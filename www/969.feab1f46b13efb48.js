"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[969],{969:(x,d,e)=>{e.r(d),e.d(d,{ListaUsuariosPageModule:()=>A});var g=e(6814),h=e(95),r=e(3582),Z=e(9862),l=e(3912),u=e(5861),m=e(9965),o=e(6689),p=e(4414);const f=function(n){return["/ver-usuarios",n]},U=function(n){return["/actualizar-usuario/",n]};function b(n,T){if(1&n){const t=o.EpF();o.TgZ(0,"ion-item")(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA(),o.TgZ(5,"ion-label")(6,"ion-button",9),o._UZ(7,"ion-icon",10),o.qZA(),o.TgZ(8,"ion-button",9),o._UZ(9,"ion-icon",11),o.qZA(),o.TgZ(10,"ion-button",12),o.NdJ("click",function(){const a=o.CHM(t).$implicit,c=o.oxw();return o.KtG(c.borraUsuario(a.id))}),o._UZ(11,"ion-icon",13),o.qZA()()()}if(2&n){const t=T.$implicit;o.xp6(2),o.Oqu(t.first_name),o.xp6(2),o.Oqu(t.last_name),o.xp6(2),o.Q6J("routerLink",o.VKq(4,f,t.id)),o.xp6(2),o.Q6J("routerLink",o.VKq(6,U,t.id))}}const y=[{path:"",component:(()=>{class n{constructor(t,i,s,a,c){this.restApi=t,this.loadingController=i,this.alertController=s,this.route=a,this.router=c,this.usuarios=[]}ngOnInit(){this.getUsuarios()}getUsuarios(){var t=this;return(0,u.Z)(function*(){console.log("Entrando :getUsuarios");const i=yield t.loadingController.create({message:"Harrys Loading..."});yield i.present(),console.log("Entrando :"),yield t.restApi.getUsuarios().subscribe({next:s=>{console.log("Res:"+s),t.usuarios=s,console.log("thisProductos:",t.usuarios),i.dismiss()},complete:()=>{},error:s=>{console.log("Err:"+s),i.dismiss()}})})()}borraUsuario(t){var i=this;return(0,u.Z)(function*(){i.alertaConfirmacion(t,"Esta seguro que desea eliminar este usuario")})()}alertaConfirmacion(t,i){var s=this;return(0,u.Z)(function*(){yield(yield s.alertController.create({header:"Borrar Usuario!",message:i,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Operaci\xf3n cancelada")}},{text:"Eliminar",handler:()=>{s.confirmacionBorrado(t)}}]})).present()})()}confirmacionBorrado(t){var i=this;return(0,u.Z)(function*(){alert("Eliminando ");const s=yield i.loadingController.create({message:"Loading..."});yield s.present(),yield i.restApi.borradoUsuario(t).subscribe({next:a=>{console.log("Error",a),s.dismiss(),i.router.navigate(["/lista-usuarios"]),window.location.reload()},complete:()=>{},error:a=>{console.log("Error",a),s.dismiss()}})})()}static#o=this.\u0275fac=function(i){return new(i||n)(o.Y36(m.i),o.Y36(p.HT),o.Y36(p.Br),o.Y36(l.gz),o.Y36(l.F0))};static#t=this.\u0275cmp=o.Xpm({type:n,selectors:[["app-lista-usuarios"]],features:[o._Bn([m.i])],decls:20,vars:1,consts:[[1,"background-image"],["slot","start"],["src","../../assets/logo.png",2,"display","block","margin","0 auto"],["slot","end"],["defaultHref","/"],[2,"padding","10px"],["padding",""],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],[3,"routerLink"],["name","eye-outline"],["name","create-outline"],["type","button",3,"click"],["name","trash-outline"]],template:function(i,s){1&i&&(o.TgZ(0,"ion-header")(1,"ion-toolbar"),o._UZ(2,"div",0),o.TgZ(3,"ion-buttons",1),o._UZ(4,"ion-menu-button"),o.qZA(),o._UZ(5,"ion-img",2),o.TgZ(6,"ion-buttons",3),o._UZ(7,"ion-back-button",4),o.qZA()()(),o.TgZ(8,"ion-content"),o._UZ(9,"div",0),o.TgZ(10,"ion-card",5)(11,"ion-list",6)(12,"ion-item")(13,"ion-label",7),o._uU(14,"Nombres"),o.qZA(),o.TgZ(15,"ion-label",7),o._uU(16,"Apellidos"),o.qZA(),o.TgZ(17,"ion-label",7),o._uU(18,"Acciones"),o.qZA()(),o.YNc(19,b,12,8,"ion-item",8),o.qZA()()()),2&i&&(o.xp6(19),o.Q6J("ngForOf",s.usuarios))},dependencies:[g.sg,r.YG,r.Sm,r.PM,r.W2,r.Gu,r.gu,r.Xz,r.Ie,r.Q$,r.q_,r.fG,r.sr,r.oU,r.YI,l.rH],styles:["ion-img[_ngcontent-%COMP%]{width:200px;padding:10px}"]})}return n})()}];let v=(()=>{class n{static#o=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#i=this.\u0275inj=o.cJS({imports:[l.Bz.forChild(y),l.Bz]})}return n})(),A=(()=>{class n{static#o=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=o.oAB({type:n});static#i=this.\u0275inj=o.cJS({imports:[g.ez,h.u5,r.Pc,v,Z.JF]})}return n})()}}]);